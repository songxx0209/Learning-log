

## 2018-01-29 ~ 2018-02-04

| 问题          | 描述                                       | 状态   |
| ----------- | ---------------------------------------- | ---- |
| js          | 函数、变量声明为题                                | ok   |
| clone DOM元素 |                                          |      |
| 跨域问题        | 前端使用本地服务代理解决跨域问题，那么服务端nginx也需要配置校验规则；**这里是nginx去向后台请求** |      |
| js          | js相关运动，自己写；还有一个api，学习一下；                 |      |
| h5页面：活动需求   | 今天遇到的需求：移动端，滑动手势的判断；<br />当用户向上滑动时，页面自动移动到一个高度；<br />**关键在于理解移动端、交互api；比如滑动什么的怎么判断，原理、深入理解** |      |
| 移动端开发       | 单独写一篇文章，总结移动端开发中遇到的问题和经验                 |      |



### 移动端用户操作

[原生js 手机滑动事件-知乎](https://www.zhihu.com/question/37894281)

[移动应用滑动屏幕方向判断解决方案,JS判断手势方向](http://blog.csdn.net/iwasdream/article/details/33741859)



### 函数、变量声明为题

**函数声明 的优先级 高于 变量声明的优先级，但 不会 覆盖变量赋值。**

```
var a = 1; 
function a() {
  console.log('ok');
}
// a : 1

// 情况二
var a;
function a() {}
// typeof a :  function


function a() {}
var a;
// typeof a : function
```

> 如果一个函数声明 和 一个变量 声明同名了；
>
> 1. 变量只是 声明并没有被赋值，则取函数；
> 2. 如果变量赋值了，则取变量的值；



### flex布局，兼容性写法；

系统学习一下flex兼容性的问题，兼容写法的问题；

### meta使用总结：

```
<meta http-equiv="Expires" content="0">
<meta http-equiv="Pragma" content="no-cache">
<meta http-equiv="Cache-control" content="no-cache">
<meta http-equiv="Cache" content="no-cache">
// 这些东东的作用
// 系统学习一下meta标签的作用、使用
```





### CORS技术的使用；问题：

```
Failed to load https://wx.dashixiongky.com/api/v1/0/province: Request header field Access-Control-Allow-Headers is not allowed by Access-Control-Allow-Headers in preflight response.


```

> axios 设置post请求content-type ： application/json 无效
>
> 有人说这是一个bug
>
> **现在来看，并不是axios的问题，而是跨域的问题**

[脑壳有点晕了](https://itbilu.com/javascript/js/VkiXuUcC.html)

**最终解决方案，还是后台设置跨域**

mmp的 跨域

为什么会出现跨域：开始想的是 后台服务和前端代码都在一台服务器上应该不会出现跨域的问题；被这个定式思维卡了半天；

跨域是因：协议、域名、端口中的任意一个不相同，就会出现跨域；

在这里，后台ngnix搭建的地址为：http://47.94.251.1:8088/

而后台接口访问地址为：https://wx.dashixiongky.com/

两个协议不相同，是不是已经出现跨域情况了；但是为什么发送get 请求又能返回数据？？？

XHR对象对于HTTP跨域请求有三种：`简单请求`、`Preflighted 请求`、`Preflighted 认证请求`