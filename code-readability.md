## 读书笔记 - 《编写可读代码的艺术》

1：代码应当易于理解；

- 代码的写法应当使别人理解它所需的时间最小化；

2：在短代码 和 易于理解 之间怎么抉择？

- 总是越小越好吗？
- 易于理解 > 代码量小（优先级）



#### 表面层次的改进

1：选择好的名字、写好的注释、保持代码的整洁

##### 把信息装到名字里

- 命名时，需要精准，具体；不要含糊不清，选词准确。
- ​

取名字，首先取好中文名字；

取名字时，多想想别人能看懂这个名字吗？

- 使用专业的单词： 例如，不用get，而用fetch，download；
- 避免空乏的名字，像tmp合retval，除非使用它们有特殊理由；
- 使用具体的名字来更细致的描述事物，servercanStart()
- 给变量名带上重要的细节 — 例如， 在值为毫秒的变量后面加上 _ms，
- 为作用域大的名字采用更长的名字 — 在小的作用域里面使用短的名字
- 有目的的使用大小写、下划线



带单位的值：

```
var start_ms = 200;
var start_day = 200;
var start_h = 200;
```

- 推荐使用min和max表示极限

- first和last表示包含的范围，begain、end表示包含／排除范围

- 为布尔值命名：加上像is、has、can、should

  ​

#### 审美很重要

使用一致的布局，让读者很快就习惯这种风格

让相似的代码看上去相似

把相关的代码行分组，形成代码块

> 在需要的时候使用列对齐
>
> ```
> data("hello world"       , "are you ok"              , "");
> data("hello worldss sdsd", "are you ok, im ok thanks", "");
> data("hello world"       , "are you ok"              , "oh, my god");
>
> var ok          = request();
> var development = request();
> var apple       = equest(); // 这样能清晰的看出不同，不容易出错
> ```
>
> 这样能很清晰的分辨 函数的参数，及对应关系；

总结：

dry，不要重复你自己；如果有多个相同的代码块做相同的事情，尝试封装起来；

如果一段代码中提到：a, b和c；那么不要在另一个地方说：b, c和a；选择一个有意义的顺序并一致使用它；

用空行（换行）来区分代码逻辑；



#### 该怎么写注释

注释的目的是尽量帮助读者快速的了解内容；

为代码中的瑕疵写注释；

给读者不容易理解的常量加注释；

想象一下你的代码别人能看得懂吗？（站在读者，`对方的角度去思考问题`）

公布可能的陷阱；  

总结行的注释；

克服心理阻滞；开始时先把自己想的注释出来；

精确的描述函数的行为；

使用输入／输出的方式来写注释；比如一个函数输入什么会得到（输出）什么；

```
a(1); // 3
```

从功能，输出结果上描述你的代码； 



#### 简化循环和逻辑

最小化代码，简化逻辑；



#### 把控制流变得易读

 ```
if(条件){}
else {} // 相反的条件
// 条件判断的顺序，需要深思熟虑，肯定有一种是更好的；
 ```



